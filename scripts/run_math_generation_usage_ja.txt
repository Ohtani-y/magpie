# run_math_generation.sh 使い方ガイド

## 基本的な使い方

```bash
./run_math_generation.sh [モデル番号] [生成倍率] [モード番号] [ドメイン番号]
```

## 引数の説明

### モデル番号（必須）
1 = DeepSeek-R1-Distill-Qwen-32B（推奨・バランス型）
2 = DeepSeek-R1-Distill-Llama-70B（高性能・A100必須）
3 = DeepSeek-R1-0528-FP4（メモリ効率型）
4 = Gemma-3-27B-it（Google製）
5 = Qwen2.5-Math-72B-Instruct（数学特化）
6 = Qwen2.5-Coder-32B-Instruct（計算数学特化）

### 生成倍率（必須）
デフォルト問題数に対する倍率を指定します：
- 0.1 = 10%（例：代数1,000問）
- 0.5 = 50%（例：代数5,000問）
- 1.0 = 100%（例：代数10,000問）
- 2.0 = 200%（例：代数20,000問）
※10の位で四捨五入されます

### モード番号（必須）
1 = 単一ドメイン生成
2 = 全ドメイン生成（生成倍率適用）
3 = カスタム選択（対話モードのみ）

### ドメイン番号（モード1の場合のみ）
1 = 代数（10K問題推奨）
2 = 微積分（10K問題推奨）
3 = 幾何（6K問題推奨）
4 = 統計（6K問題推奨）
5 = 数論（4K問題推奨）
6 = 離散数学（8K問題推奨）


## 具体例

### 例1: DeepSeek-Qwen-32Bで代数問題100%（10K個）を生成
```bash
./run_math_generation.sh 1 1.0 1 1
```
- モデル1番 = DeepSeek-R1-Distill-Qwen-32B
- 生成倍率1.0 = 100%（10K問題）
- モード1番 = 単一ドメイン
- ドメイン1番 = 代数

### 例2: Qwen-Math-72Bで全ドメイン50%生成
```bash
./run_math_generation.sh 5 0.5 2
```
- モデル5番 = Qwen2.5-Math-72B-Instruct
- 生成倍率0.5 = 50%（合計22K問題）
- モード2番 = 全ドメイン

### 例3: DeepSeek-Llama-70Bで微積分50%（5K問題）を生成
```bash
./run_math_generation.sh 2 0.5 1 2
```
- モデル2番 = DeepSeek-R1-Distill-Llama-70B
- 生成倍率0.5 = 50%（5K問題）
- モード1番 = 単一ドメイン
- ドメイン2番 = 微積分

### 例4: 対話モード（引数なし）
```bash
./run_math_generation.sh
```
メニューが表示され、選択肢を対話的に選べます

### 例5: ヘルプ表示
```bash
./run_math_generation.sh -h    # 日本語ヘルプ
```

## よくある使い方

### 推奨：バランス型モデルで代数を生成
```bash
./run_math_generation.sh 1 1 1
```

### 高性能：全ドメインを一括生成
```bash
./run_math_generation.sh 5 2
```

### カスタム：特定ドメインを指定数生成
```bash
./run_math_generation.sh 1 1 3 3000  # 幾何3000問題
```

## 注意事項
- モデル2,5は高メモリGPU（A100 80GB）が必要
- DeepSeekモデルはHugging Faceログインが必要
- 生成データは data/ ディレクトリに保存されます